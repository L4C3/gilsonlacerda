<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Projects – Gilson Lacerda</title>
    <meta name="theme-color" content="#0f172a" />
    <link rel="stylesheet" href="assets/css/site.css">
</head>
<body class="bg-aurora">
<div class="wrap">
    <header>
        <div class="brand">
            <a href="index.html" aria-label="Go home"><img src="/assets/img/logo.svg" height="50" alt="GL logo"></a>
            <div>
                <strong>Gilson Lacerda</strong><br>
                <span class="muted">Web Developer • Web Designer</span>
            </div>
        </div>

        <!-- NEW: mobile toggle button -->
        <button class="menu-toggle" aria-expanded="false" aria-controls="site-nav" aria-label="Open menu">
            <!-- simple hamburger icon -->
            <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>

        <nav id="site-nav">
            <a href="projects.html">Projects</a>
            <a href="index.html#experience">Experience</a>
            <a href="index.html#skills">Skills</a>
            <a href="index.html#contact">Contact</a>
        </nav>
    </header>

    <section>
        <p class="kicker">Selected Work</p>
        <h1>Projects</h1>
        <p class="muted">Filter by category:</p>
        <div id="filters" class="filters" role="tablist" aria-label="Project categories"></div>
        <div id="grid" class="projects-grid" aria-live="polite"></div>
    </section>

    <footer>© <span id="year"></span> Gilson Lacerda </footer>
</div>

<!-- DATA FIRST: normal JS block, not JSON -->
<script>
    window.PROJECTS = [
        {
            id: "vacation-planner",
            title: "Vacation Planner – Android App",
            subtitle: "App • Android (Java)",
            year: 2025,
            tags: ["apps","android","java","mobile","ux"],
            thumb: "assets/img/projects/vacation-planner/vacation-planner.png",
            excerpt: "Plan vacations and excursions with date validation, Room/SQLite storage, and AlarmManager notifications.",
            links: {
                case: "vacation-planner.html",
                repo: "https://github.com/L4C3/SoftwareEngineerCapstone.git",
                live: "https://youtu.be/9-uacfU_Jlc"
            }},

        {
            id: "mym-app",
            title: "MYM App – Mobile UX",
            subtitle: "App • UX/UI • Mobile",
            year: 2025,
            tags: ["apps","mobile","ux","ui","research"],
            thumb: "assets/img/projects/mym-app/mockup.png",
            excerpt: "Mobile experience for Marvin Yoder Ministries—easy access to messages and books for an older, less tech‑savvy audience.",
            links: {
                case: "mym-app.html",

            }
        },
        {
            id: "mym-site",
            title: "MYM – Website Redesign",
            subtitle: "Website • UX/UI • Branding",
            year: 2025,
            tags: ["websites","branding","ux","ui","design"],
            thumb: "assets/img/projects/mym-site/live-site.png",
            excerpt: "Website redesign and rebranding for Marvin Yoder Ministries—modernized visuals, improved navigation, and better accessibility for an older audience.",
            links: {
                case: "mym-site.html",
                repo: "",
                live: "https://marvinyoder.org"
            }
        },

    ];
</script>

<!-- PAGE LOGIC AFTER data -->
<script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu
    (function(){
        const header = document.querySelector('header');
        const btn = document.querySelector('.menu-toggle');
        const nav = document.getElementById('site-nav');
        if(!header || !btn || !nav) return;

        function toggle(open){
            header.classList.toggle('nav-open', open);
            btn.setAttribute('aria-expanded', String(open));
            btn.setAttribute('aria-label', open ? 'Close menu' : 'Open menu');
        }

        btn.addEventListener('click', ()=>{
            const isOpen = header.classList.contains('nav-open');
            toggle(!isOpen);
        });

        document.addEventListener('click', (e)=>{
            if(!header.classList.contains('nav-open')) return;
            if(header.contains(e.target)) return;
            toggle(false);
        });

        document.addEventListener('keydown', (e)=>{
            if(e.key === 'Escape') toggle(false);
        });
    })();

    // Spotlight like index
    window.addEventListener('pointermove', e=>{
        const x=(e.clientX/window.innerWidth)*100, y=(e.clientY/window.innerHeight)*100;
        document.documentElement.style.setProperty('--mx', x+'%');
        document.documentElement.style.setProperty('--my', y+'%');
    }, {passive:true});

    // === Projects page block (runs ONLY if #grid and #filters exist) ===
    (function(){
        const grid = document.getElementById('grid');
        const filtersEl = document.getElementById('filters');
        if(!grid || !filtersEl) return; // not on projects.html, bail

        const el = (tag, attrs={}, ...children)=>{
            const n=document.createElement(tag);
            Object.entries(attrs).forEach(([k,v])=>{
                if(k==='class') n.className=v;
                else if(k==='html') n.innerHTML=v;
                else n.setAttribute(k,v);
            });
            children.filter(Boolean).forEach(c=> n.append(c));
            return n;
        };

        const PROJECTS = Array.isArray(window.PROJECTS) ? window.PROJECTS : [];

        // Tags
        const allTags = Array.from(new Set(
            PROJECTS.flatMap(p => (p.tags||[]).map(t=>t.toLowerCase()))
        )).sort();

        // URL prefilter
        const params = new URLSearchParams(location.search);
        let currentTag = (params.get('tag') || 'all').toLowerCase();
        if (currentTag !== 'all' && !allTags.includes(currentTag)) currentTag = 'all';

        function makeFilter(label,value){
            const b = el('button',{
                class:'filter-btn','data-filter':value,role:'tab',
                'aria-pressed': (currentTag===value)
            },label);
            b.addEventListener('click',()=>{
                currentTag = value;
                [...filtersEl.querySelectorAll('.filter-btn')]
                    .forEach(x=>x.setAttribute('aria-pressed','false'));
                b.setAttribute('aria-pressed','true');
                applyFilter(currentTag);
                history.replaceState({}, "", value==='all' ? "projects.html" : `?tag=${encodeURIComponent(value)}`);
            });
            return b;
        }

        // Build filters
        filtersEl.append(makeFilter('All','all'));
        allTags.forEach(t => filtersEl.append(makeFilter(t[0].toUpperCase()+t.slice(1), t)));

        // Render cards (CURRENT logic: Live · Case study · Repo)
        function renderCards(items){
            grid.innerHTML='';
            if(!items.length){
                grid.innerHTML = '<div class="muted">No projects for this filter yet.</div>';
                return;
            }
            items.forEach(p=>{
                const link = p.links?.case || p.links?.live || '#';
                const subtitleYear = [p.subtitle, p.year].filter(Boolean).join(' • ');

                const card = el('article',{class:'card project','data-tags':(p.tags||[]).join(' ')},
                    el('a',{href:link,class:'thumb','aria-label':p.title},
                        el('img',{src:p.thumb||p.cover||'',alt:p.title,loading:'lazy'})
                    ),
                    el('div',{class:'tags'},...(p.tags||[]).map(t=>el('span',{class:'tag'},t))),
                    el('h3',{},p.title),
                    el('small',{}, subtitleYear),
                    el('p',{class:'muted'}, p.excerpt || ''),
                    el('p',{},
                        p.links?.live ? el('a',{href:p.links.live,target:'_blank',rel:'noreferrer'},"Live") : '',
                        (p.links?.live && (p.links?.case||p.links?.repo)) ? document.createTextNode(' · ') : '',
                        p.links?.case ? el('a',{href:p.links.case},"Case study") : '',
                        (p.links?.repo && (p.links?.case||p.links?.live)) ? document.createTextNode(' · ') : '',
                        p.links?.repo ? el('a',{href:p.links.repo,target:'_blank',rel:'noreferrer'},"Repo") : ''
                    )
                );
                grid.append(card);
            });
        }

        function applyFilter(tag){
            const items = tag==='all'
                ? PROJECTS
                : PROJECTS.filter(p => (p.tags||[]).map(x=>x.toLowerCase()).includes(tag));
            renderCards(items);
        }

        applyFilter(currentTag);
    })();
</script>

</body>
</html>
